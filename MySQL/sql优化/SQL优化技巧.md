# SQL优化技巧

如果某天你负责的某个线上接口，出现了性能问题，需要做优化。那么你首先想到的很有可能是优化sql语句，因为它的改造成本相对于代码来说也要小得多。

那么，如何优化sql语句呢？

这篇文章从15个方面，分享了sql优化的一些小技巧，希望对你有所帮助。

![image-20211231171331519](https://gitee.com/huangwei0123/image/raw/master/img/image-20211231171331519.png)



## 1、避免使用Select *

很多时候，我们写sql语句时，为了方便，喜欢直接使用`select *`，一次性查出表中所有列的数据。

```sql
select * from user where id=1;
```

在实际业务场景中，可能我们真正需要使用的只有其中一两列。查了很多数据，但是不用，白白浪费了数据库资源

比如：内存或者cpu。

此外，多查出来的数据，通过网络IO传输的过程中，也会增加数据传输的时间

还有一个最重要的是：`select * `不会走`覆盖索引`，会出现大量的`回表`操作，而导致查询sql的性能很低。

#### 1.1 为什么select * 不会走覆盖索引？



#### 1.2 什么是回表？





那么如何优化？

```sql
select name,age from user where id=1;
```

sql语句查询时，只查需要用到的列，多余的列根本无需查出来。

